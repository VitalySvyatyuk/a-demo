{% load i18n %}

<div class="modal-header">
  <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()">
    <span aria-hidden="true">&times;</span>
  </button>
  <h3 class="modal-title">
    <span >{% trans "Set agent code" %}</span>
  </h3>
</div>

<div class="modal-body" >
  <form name="reassignForm" ng-submit="batchAgentCode(newCode)">
    <div class="form-group row">
      <label for="newCode" class="col-md-5 form-control-label">{% trans "New code" %}</label>
      <div class="col-md-11">
        <input class="form-control"
          type="text"
          placeholder="{% trans "New code" %}"
          ng-model="newCode"
          name="comment">
        <p class="text-danger" ng-repeat="err in errors.code">
          [[::err]]
        </p>
      </div>
    </div>

    <div class="form-group row" ng-if="::objects.countSelected() > 20 || objects.countSelected() == 0">
      <label class="col-sm-5"></label>
      <div class="col-sm-11">
        <div class="checkbox">
          <label>
            <input type="checkbox"
               ng-model="$parent.check">&nbsp;{% trans "I want to set agent code to [[objects.countSelected()||objects.count]] contacts" %}
          </label>
        </div>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-sm-offset-5 col-sm-11">
        <button type="submit" class="btn btn-secondary btn-success"
                ng-disabled="(objects.countSelected() > 20 || objects.countSelected() == 0) && !(check && newCode)">{% trans "Save" %}</button>
      </div>
    </div>
  </form>
</div>
